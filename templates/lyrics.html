<!DOCTYPE html>
<html lang="en">
<head>
    <title>{{ title }}</title>
    <script type="text/javascript" src="//code.jquery.com/jquery-1.4.2.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.5/socket.io.min.js"></script>
    <script type="text/javascript" charset="utf-8">
        $(document).ready(function() {
            // Use a "/test" namespace.
            // An application can open a connection on multiple namespaces, and
            // Socket.IO will multiplex all those connections on a single
            // physical channel. If you don't care about multiple channels, you
            // can set the namespace to an empty string.
            namespace = '/test';

            // Connect to the Socket.IO server.
            // The connection URL has the following format:
            //     http[s]://<domain>:<port>[/<namespace>]
            var socket = io.connect(location.protocol + '//' + document.domain + ':' + location.port + namespace);

            // Event handler for new connections.
            // The callback function is invoked when a connection with the
            // server is established.
            socket.on('connect', function() {
                socket.emit('my_event', {data: 'I\'m connected!'});
            });

            socket.on('my_response', function(msg) {
                console.log(msg);
                $('#lyrics').html('<br>' + $('<div/>').text('Received #' + msg.count + ': ' + msg.data).html());
            });

        });
    </script>

    <style>
        body {
            font-family: "sans-serif";
            color: #000;
            height: 100%;
            margin: 0;
        }

        #lyrics {
            background-color: rgba(255, 255, 2555, 0.8);
            width: 40%;
            text-align: center;
            padding-top: 50px;
            padding-bottom: 30px;
            font-family: sans-serif;
            margin: auto;
            display: block;
            overflow: auto;
            height: auto;
            min-height: 100vh !important;
        }

        .content:before {
            content: "";
            position: fixed;
            left: 0;
            right: 0;
            z-index: -1;

            display: block;
            background-image: url('{{ image }}');
            background-size: cover;
            width: 100%;
            height: 100%;

            -webkit-filter: blur(5px);
            -moz-filter: blur(5px);
            -o-filter: blur(5px);
            -ms-filter: blur(5px);
            filter: blur(5px);
        }

        .content {
            overflow: auto;
            position: relative;
            height: 100%;
            margin: auto;
            -webkit-transform: scale(1.1);
            -moz-transform: scale(1.1);
            -o-transform: scale(1.1);
            -ms-transform: scale(1.1);
            transform: scale(1.1);
        }

    </style>

</head>
<body>
<div class="content">
    <div id="lyrics">
        <h1>{{ title }}</h1>
        <H3>{{ artist }}</H3>
        {% for line in lyrics %}
            <span>{{ line }}</span><br>
        {% else %}
            {{ "Not able to do that, sir" }}
        {% endfor %}
    </div>

    <div id="log"></div>
</div>

</body>


</html>